<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/hello-world/" class="article-date">
  <time datetime="2019-03-21T12:55:39.022Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/21/hello-world/" data-id="cjtinfpnn0007xw77866ualhs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Algorithms/DivideAndConquer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/02/Algorithms/DivideAndConquer/" class="article-date">
  <time datetime="2018-11-02T04:02:32.000Z" itemprop="datePublished">2018-11-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/02/Algorithms/DivideAndConquer/">Divide and Conquer</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>分治法相关知识和例题</p>
<h1 id="1-理论介绍"><a href="#1-理论介绍" class="headerlink" title="1 理论介绍"></a>1 理论介绍</h1><h2 id="1-1-求解步骤"><a href="#1-1-求解步骤" class="headerlink" title="1.1 求解步骤"></a>1.1 求解步骤</h2><p>一般来说，分治法的求解过程由以下三个阶段组成：</p>
<ol>
<li>划分（divide）：把规模为n的原问题划分为k个规模较小的子问题，并尽量使k个子问题的规模大致相同。</li>
<li>求解子问题（conquer）：各子问题的解法与原问题的解法通常相同，可以用递归方法（或循环）求解各个子问题。</li>
<li>合并（merge）：把各个子问题的解合并，合并的代价因情况不同有很大差异，分治算法的有效性很大程度上依赖于合并的实现。 </li>
</ol>
<h2 id="1-2-算法设计模式"><a href="#1-2-算法设计模式" class="headerlink" title="1.2 算法设计模式"></a>1.2 算法设计模式</h2><p>分治法可以用递归实现，也可以使用循环实现。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Divide_Conquer(P)</span><br><span class="line">&#123;</span><br><span class="line">    if (P的规模足够小) </span><br><span class="line">           直接求解P; </span><br><span class="line">    else</span><br><span class="line">           分解为k个子问题P1, P2, …, Pk；</span><br><span class="line"></span><br><span class="line">    for (i=1; i&lt;=k; i++)</span><br><span class="line">        yi=Divide_Conquer(Pi); </span><br><span class="line"></span><br><span class="line">    return   Merge(y1, …, yk); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="2-排序问题中的分治法"><a href="#2-排序问题中的分治法" class="headerlink" title="2 排序问题中的分治法"></a>2 排序问题中的分治法</h1><ul>
<li>归并排序</li>
<li>快速排序</li>
</ul>
<h2 id="2-1-归并排序"><a href="#2-1-归并排序" class="headerlink" title="2.1 归并排序"></a>2.1 归并排序</h2><p>归并排序的核心思想是将两个有序的数列合并成一个大的有序的数列。而只含有一个元素的序列显然是有序的。</p>
<p>首先来一张图：<br><img src="/images/Algorithm/DivideAndConquer/fenzhi_01.png" width="800px"></p>
<p>可以将归并排序划分成两个过程：</p>
<ul>
<li>分：将原数组分为 n 个子数组，每个子数组长度为 1。</li>
<li>合：依次将两个相邻的有序数组，合并成一个有序数组，重复操作直至剩下一个有序数组。</li>
</ul>
<p>对于序列 8 3 2 9 7 1 5 4<br>划分成子问题之后，进行第一次合并之后，结果应该是 3 8 2 9 7 1 5 4，此时需要注意下面代码（1）部分，需要对arr进行更新，根据合并的位置进行更新，此时的left为0，right为1，更新的时候只更新这两项。</p>
<p>注意下面这个执行过程：当执行到最后一次合并时，左边的序列应该为 2 3 8 9，右边的为1 4 5 7，此时执行到代码中的（2）时需要注意，都从子序列的最左边的值开始比较，比如 2 &gt; 1,那么t[0] = 1,然后i不动，j向后移动一位，指向4，此时比较 2和4,2&lt;4，此时t[1]=2,i向后移动一位，j不动，依次向下执行下去。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(left, mid, right)</span>:</span></span><br><span class="line">    i = left    <span class="comment"># 左子序列指针</span></span><br><span class="line">    j = mid + <span class="number">1</span>  <span class="comment"># 右子序列指针</span></span><br><span class="line">    t = left      <span class="comment"># 临时数组指针，表明此时需要更新的临时数组的索引位置</span></span><br><span class="line">    <span class="keyword">global</span> arr</span><br><span class="line"></span><br><span class="line">    <span class="comment"># （2）</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= right:</span><br><span class="line">        <span class="keyword">if</span> arr[i] &lt;= arr[j]:</span><br><span class="line">            t_arr[t] = arr[i]</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            t += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            t_arr[t] = arr[j]</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">            t += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># （3） 此时表明左子序列中剩余的所有元素均大于右子序列的最大值</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid:</span><br><span class="line">        t_arr[t] = arr[i]</span><br><span class="line">        t += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> j &lt;= right:</span><br><span class="line">        t_arr[t] = arr[j]</span><br><span class="line">        t += <span class="number">1</span></span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 每一次合并都会修改arr数组，因此需要对数组进行更正 （1）【特别注意】</span></span><br><span class="line">    t = left</span><br><span class="line">    <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">        arr[left] = t_arr[t]</span><br><span class="line">        left += <span class="number">1</span></span><br><span class="line">        t += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用递归来切分子问题，直到子问题足够小</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(left, right)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> left &lt; right:</span><br><span class="line">        m = (left + right) // <span class="number">2</span></span><br><span class="line">        merge_sort(left, m)  <span class="comment"># 归并排序前半个子序列</span></span><br><span class="line">        merge_sort(m + <span class="number">1</span>, right)  <span class="comment"># 归并排序后半个子序列</span></span><br><span class="line">        merge(left, m, right)  <span class="comment"># 合并两个已排序的子序列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">arr = [<span class="number">4</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"><span class="comment"># arr = [3, 2, 4]</span></span><br><span class="line">t_arr = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(arr))]</span><br><span class="line">merge_sort(<span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line">print(t_arr)</span><br></pre></td></tr></table></figure>
<h3 id="2-1-1-时间复杂度分析"><a href="#2-1-1-时间复杂度分析" class="headerlink" title="2.1.1 时间复杂度分析"></a>2.1.1 时间复杂度分析</h3><p><img src="/images/Algorithm/DivideAndConquer/fenzhi_02_01.png" width="800px"><br>算法稳定性:在归并排序中，相等的元素的顺序不会改变，所以它是稳定的算法。</p>
<h2 id="2-2-插入排序"><a href="#2-2-插入排序" class="headerlink" title="2.2 插入排序"></a>2.2 插入排序</h2><p>参考<a href="https://mp.weixin.qq.com/s?__biz=MzI2NjA3NTc4Ng==&amp;mid=2652080576&amp;idx=1&amp;sn=f966f98981ee423b5844e5713a93c219&amp;chksm=f1748225c6030b3387edf2d74c0b3dba8fa6c3b9a778b6cdf74a16cdefa2639f210be9d7025c&amp;mpshare=1&amp;scene=23&amp;srcid=1116CzPkBSREJqf0wBShUiXx#rd" target="_blank" rel="noopener">here</a>【里面提及的快速排序的第二种方法存在问题】</p>
<p>【单向调整】<br>给定序列如下：8 1 3 2 7 6 4，首先，选择一个“主元”，（可以理解为参考的元素），然后开始进行排序：然后可以用一个下标 i 指向 left，即 i = left ;用一个下标 j 也指向l eft，即j = left。接下来 j 从左向右遍历，遍历的范围为 [left, right-1] ，遍历的过程中，如果遇到比主元小的元素，则把该元素与 i 指向的元素交换，并且 i = i +1。<br><img src="/images/Algorithm/DivideAndConquer/fenzhi_02.png" width="400px"></p>
<p>遍历完成之后，把 i 指向的元素与主元进行交换，交换之后，i 左边的元素一定小于主元，而 i 右边的元素一定大于或等于主元。这样，就 i 完成了一次分割了。<br><img src="/images/Algorithm/DivideAndConquer/fenzhi_03.png" width="400px"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partion</span><span class="params">(arr, left, right)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    i = left</span><br><span class="line">    j = left</span><br><span class="line">    pivot = arr[right]  <span class="comment"># 存储“正元”，可以理解为一个参考元素</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(left, right):</span><br><span class="line">        <span class="keyword">if</span> arr[j] &lt; pivot:</span><br><span class="line">            temp = arr[i]</span><br><span class="line">            arr[i] = arr[j]</span><br><span class="line">            arr[j] = temp</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 上面的i的位置就是“正元”的位置</span></span><br><span class="line">    arr[right] = arr[i]</span><br><span class="line">    arr[i] = pivot</span><br><span class="line">    <span class="comment"># 返回“正元”的位置，便于给出切分的子位置</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 输出中间结果</span></span><br><span class="line">    print(<span class="string">"第 %d次排序后arr数组 %s"</span> % (count, arr))</span><br><span class="line">    count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span><span class="params">(arr, left, right)</span>:</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">if</span> left&lt;right:</span><br><span class="line">        center = partion(arr, left, right)</span><br><span class="line">        quick_sort(arr, left, center<span class="number">-1</span>)</span><br><span class="line">        quick_sort(arr, center+<span class="number">1</span>, right)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__== <span class="string">'__main__'</span>:</span><br><span class="line">    arr = [<span class="number">1</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">4</span>]</span><br><span class="line">    print(<span class="string">"初始序列为:"</span>, arr)</span><br><span class="line">    count = <span class="number">1</span>   <span class="comment"># 记录排序的次数</span></span><br><span class="line">    quick_sort(arr, <span class="number">0</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<p>【算法导论上的思路】<br>思路：选择最后一个元素作为“主元”，然后i从（left-1)开始，j从left开始，然后比较j与正元的大小关系，秉持着“小于正元的元素放在前面，引出如果j指向的元素小于正元，那么就i自增1，然后与j进行元素交换”。</p>
<p>将最后一个元素作为“正元”，其实和上面的一种思路进行对比可以发现思路是一样的，推荐该思路。<br><img src="/images/Algorithm/DivideAndConquer/fenzhi_04.png" width="800px"><br>核心代码是partion里面的内容，这里直观理解应该比较困难，结合图好理解一些。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partion</span><span class="params">(arr, left, right)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    pivot = arr[right]  <span class="comment"># 存储“正元”，可以理解为一个参考元素</span></span><br><span class="line">    i = left <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(left, right):</span><br><span class="line">        <span class="keyword">if</span> arr[j] &lt;= pivot:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            arr[i], arr[j] = arr[j], arr[i]</span><br><span class="line"></span><br><span class="line">    arr[i+<span class="number">1</span>], arr[right] = arr[right], arr[i+<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> i+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span><span class="params">(arr, left, right)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> left&lt;right:</span><br><span class="line">        center = partion(arr, left, right)</span><br><span class="line">        quick_sort(arr, left, center<span class="number">-1</span>)</span><br><span class="line">        quick_sort(arr, center+<span class="number">1</span>, right)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__== <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># arr = [4, 1, 8, 2, 7, 6, 3]</span></span><br><span class="line">    arr = [<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">    print(<span class="string">"初始序列为:"</span>, arr)</span><br><span class="line">    count = <span class="number">1</span>   <span class="comment"># 记录排序的次数</span></span><br><span class="line">    quick_sort(arr, <span class="number">0</span>, <span class="number">6</span>)</span><br><span class="line">    print(arr)</span><br></pre></td></tr></table></figure></p>
<p>综合上面这两种方法，第一种方法比较容易理解，但是第二种方法更加简洁。<br>【注意】<strong>需要先找到切分位置，然后再进行求解。与归并法不一样，归并排序是中间位置已知</strong></p>
<h3 id="2-2-1-时间复杂度分析"><a href="#2-2-1-时间复杂度分析" class="headerlink" title="2.2.1 时间复杂度分析"></a>2.2.1 时间复杂度分析</h3><p>快速排序的平均时间复杂度是$O(nlogn)$,最坏事件复杂度是$O(n^2)$。快速排序的算法是不稳定的。为了避免最坏情况的发生，可以随机选择主元，而不是固定一个位置。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/02/Algorithms/DivideAndConquer/" data-id="cjtinfpoo000fxw77y5ggmgnn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/divide-and-conquer/">divide-and-conquer</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Algorithms/Dynamic-Planning" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/02/Algorithms/Dynamic-Planning/" class="article-date">
  <time datetime="2018-11-02T04:02:32.000Z" itemprop="datePublished">2018-11-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/02/Algorithms/Dynamic-Planning/">Dynamic Planning</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>动态规划相关知识和例题</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>最优子结构性质：问题的最优解由相关子问题的最优解组合而成，而这些子问题可以独立求解。</p>
<h1 id="1-钢条切割问题"><a href="#1-钢条切割问题" class="headerlink" title="1 钢条切割问题"></a>1 钢条切割问题</h1><p>我们已知一段长度为i英寸的钢条的价格pi，长度均为整英寸，如下：</p>
<table>
<thead>
<tr>
<th>长度i</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr>
<td>价格pi</td>
<td>1</td>
<td>5</td>
<td>8</td>
<td>9</td>
<td>10</td>
<td>17</td>
<td>17</td>
<td>20</td>
<td>24</td>
<td>30</td>
</tr>
</tbody>
</table>
<p>给定一段长度为n英寸的钢条和上面这个价格表，求切钢条方案，使得收益$r_n$最大。</p>
<p>思路：通过问题分析，可以将该问题理解为一个完全背包问题，长度相当于物品的体积，价格相当于物品的价值，给定长度相当于背包容量，求最大价值。</p>
<p>分析：长度为n，那么总共有$2^{n-1}$种不同的切割方案【长度为n的时候，中间有n-1个点，每一个切割点都可以判断一下是否切割，从而有2^(n-1)次方种不同的切割方案。】  </p>
<p>一种方法：对于每个$i=1,2,3,…,n-1$，首先将钢条切割成长度为i个长度为n-i的两段，接着计算这两段的收益$r_i,r_{n-i}$，那么最大收益为:</p>
<p>$$<br>r_n = max(p_n, r_i+r_{n-i})   i=1,2,3,…n-1<br>$$<br>$p_n$表示不切割的方案，直接出售整根钢条。上面式子可以发现，原问题的最优解包含两个相关子问题的解。</p>
<p>另一种方法：将钢条从左边切割下长度为i的一段，只对右边剩下的长度为n-i的一段继续进行切割（递归），那么可以得到最大收益公式为：</p>
<p>$$<br>r_n = max(p_i+r_{n-i})    i = 1,2,3…n<br>$$<br>关键代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_max_worth</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        max_w = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">            temp = p[i]+get_max_worth(n-i)</span><br><span class="line">            max_w = max(max_w, temp)</span><br><span class="line">    <span class="keyword">return</span> max_w</span><br><span class="line"></span><br><span class="line">p = [<span class="number">0</span>, <span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">17</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">30</span>]</span><br><span class="line">get_max_worth(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>
<p>这是使用递归的方法，增加一个0项，便于处理。<br>一个处理过程是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i=1时，r[n] = p[1]+r[n-1]</span><br><span class="line">i=2时，r[n] = p[2]+r[n-2]</span><br><span class="line">...</span><br><span class="line">i=n时，r[n] = p[n]+r[0]</span><br></pre></td></tr></table></figure></p>
<p>每次i值，会计算出一个价值，然后与当前的最大值进行比较，直到遍历完所有的i得到最终的最大值。【不要过分深究递归的过程】</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/02/Algorithms/Dynamic-Planning/" data-id="cjtinfpol000cxw77y204zlsq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DL/">DL</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-python3/word2vec" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/31/python3/word2vec/" class="article-date">
  <time datetime="2018-10-31T08:17:54.000Z" itemprop="datePublished">2018-10-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/word2vec/">word2vec</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/31/python3/word2vec/">word2vec</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>word2vec的相关使用</p>
<h1 id="1-word2vec配置参数说明"><a href="#1-word2vec配置参数说明" class="headerlink" title="1 word2vec配置参数说明"></a>1 word2vec配置参数说明</h1><p>参考<br><a href="https://radimrehurek.com/gensim/models/word2vec.html" target="_blank" rel="noopener">官网</a> <a href="https://blog.csdn.net/qq_30868235/article/details/80337720" target="_blank" rel="noopener">一个参数的说明</a></p>
<p> gensim.models.word2vec.Word2Vec(sentences=None, corpus_file=None, size=100, alpha=0.025, window=5, min_count=5, max_vocab_size=None, sample=0.001, seed=1, workers=3, min_alpha=0.0001, sg=0, hs=0, negative=5, ns_exponent=0.75, cbow_mean=1, hashfxn=<built-in function hash>, iter=5, null_word=0, trim_rule=None, sorted_vocab=1, batch_words=10000, compute_loss=False, callbacks=(), max_final_vocab=None)</built-in></p>
<ul>
<li>sentences:可以是list，对于大语料集，建议使用BrownCorpus  Text8Corpus  LineSentence构建</li>
<li>size: 指特征向量的维度，默认100.大的size需要更多的训练数据，但是效果会更好，推荐几十到几百</li>
<li>alpha：学习速率</li>
<li>window： 表示当前次与预测词在一个句子中的最大距离是多少。（窗口大小）</li>
<li>min_count: 可以对字典做截断. 词频少于min_count次数的单词会被丢弃掉, 默认值为5</li>
<li>sample: 高频词汇的随机降采样的配置阈值，默认为1e-3，范围是(0,1e-5)</li>
<li>workers参数控制训练的并行数。</li>
<li>sg: 用于设置训练算法，默认为0，对应CBOW算法，sg=1则采用skip-gram算法.skip-gram慢，对罕见字有利。CBOW块。</li>
<li>iter： 迭代次数，默认为5</li>
</ul>
<h2 id="1-1-load-word2vec-format"><a href="#1-1-load-word2vec-format" class="headerlink" title="1.1 load_word2vec_format"></a>1.1 load_word2vec_format</h2><p>classmethod load_word2vec_format(fname, fvocab=None, binary=False, encoding=’utf8’, unicode_errors=’strict’, limit=None, datatype=<type 'numpy.float32'>)</type></p>
<ul>
<li>limit:限制加载到内存的词向量的数量。词向量文件里的词序是按照高频到低频的次序排的，所以前面高频的词可能是你更希望要的。【当词向量有3G+的时候，S我使用的百度百科的词向量为1.7G,也因为太大会遇到问题，这里设置了limit=100000，也能接受】</li>
</ul>
<h1 id="2-关于不同格式字向量的保存和加载"><a href="#2-关于不同格式字向量的保存和加载" class="headerlink" title="2 关于不同格式字向量的保存和加载"></a>2 关于不同格式字向量的保存和加载</h1><p>可以保存为二进制的词向量或者非二进制的词向量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> word2vec</span><br><span class="line"><span class="keyword">import</span> gensim</span><br><span class="line"></span><br><span class="line"><span class="comment"># path下面这个文件是已经进行分词的文件，词语之间以空格间隔</span></span><br><span class="line">path = <span class="string">r'C:\dataset\hello'</span></span><br><span class="line"><span class="comment"># 保存模型</span></span><br><span class="line">sentences = word2vec.LineSentence(datapath(path))</span><br><span class="line"><span class="comment"># 配置模型参数</span></span><br><span class="line">model = word2vec.Word2Vec(sentences, size=<span class="number">200</span>, window=<span class="number">5</span>, min_count=<span class="number">5</span>, workers=<span class="number">4</span>)<span class="comment">#保存为200维度</span></span><br><span class="line">model.wv.save_word2vec_format(<span class="string">r'F:\models\WikiCHModel_01'</span>, binary=<span class="literal">False</span>) <span class="comment"># 设置为True的时候就是保存成二进制格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载模型</span></span><br><span class="line">model = gensim.models.KeyedVectors.load_word2vec_format(<span class="string">r'F:\models\WikiCHModel_01'</span>, binary=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h1 id="3-常用的一些方法"><a href="#3-常用的一些方法" class="headerlink" title="3 常用的一些方法"></a>3 常用的一些方法</h1><h2 id="3-1-similarity-most-similar"><a href="#3-1-similarity-most-similar" class="headerlink" title="3.1 similarity  most_similar"></a>3.1 similarity  most_similar</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># model是加载的模型</span></span><br><span class="line">res = model.similarity(<span class="string">u'工'</span>, <span class="string">u'人'</span>)</span><br><span class="line">res = model.most_similar(<span class="string">u'人'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="3-2-BrownCorpus-Text8Corpus-LineSentence"><a href="#3-2-BrownCorpus-Text8Corpus-LineSentence" class="headerlink" title="3.2 BrownCorpus   Text8Corpus  LineSentence"></a>3.2 BrownCorpus   Text8Corpus  LineSentence</h2><p>gensim.models.word2vec.BrownCorpus: BrownCorpus是一个英国语料库，可以用这个直接处理<br>gensim.models.word2vec.Text8Corpus ，<br>gensim.models.word2vec.LineSentence</p>
<h1 id="4-一个训练字向量的完整代码"><a href="#4-一个训练字向量的完整代码" class="headerlink" title="4 一个训练字向量的完整代码"></a>4 一个训练字向量的完整代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> word2vec</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span><span class="params">(path)</span>:</span></span><br><span class="line">    <span class="comment"># path是一个文件夹，下面是对应的txt语料，通过遍历读取文件，并在每两个字之间添加空格，然后写入到word_embedding文件中。</span></span><br><span class="line">    s = <span class="string">"[^'!\"#$%\'()*+-./:;&lt;&gt;=@[\\]，！、。；：？“ ”《》… ― ——（）【】·]"</span></span><br><span class="line">    file_word = open(<span class="string">'word_embedding'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    <span class="comment"># 去标点符号，并将中文文本，以单个字的方式保存到文件中</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> os.listdir(path):</span><br><span class="line">        new_path = os.path.join(path, i)</span><br><span class="line">        <span class="comment"># new_path = r"D:\learning-33\demo\demo\Frequent\dataset\wiki.txt"</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">with</span> open(new_path, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:</span><br><span class="line">                <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">                    print(line)</span><br><span class="line">                    <span class="keyword">for</span> i <span class="keyword">in</span> line:</span><br><span class="line">                        <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> s:</span><br><span class="line">                            file_word.write(<span class="string">" "</span> + i)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">    file_word.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#字向量模型训练</span></span><br><span class="line">    logging.basicConfig(format=<span class="string">'%(asctime)s : %(levelname)s : %(message)s'</span>, level=logging.INFO)</span><br><span class="line">    sentences = word2vec.LineSentence(<span class="string">u'word_embedding'</span>)</span><br><span class="line">    model = word2vec.Word2Vec(sentences, size=<span class="number">200</span>, window=<span class="number">5</span>, min_count=<span class="number">5</span>, workers=<span class="number">4</span>)<span class="comment">#保存为200维度</span></span><br><span class="line">    <span class="comment"># 这是另一种保存模型的方法，保存之后得到的是二进制格式。</span></span><br><span class="line">    model.save(<span class="string">'WikiCHModel_1'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 模型加载</span></span><br><span class="line">    model = gensim.models.Word2Vec.load(<span class="string">r'./libs/model20180531'</span>)  <span class="comment"># 读取模型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    path = <span class="string">r"D:\learning-33\demo\demo\Frequent\dataset"</span></span><br><span class="line">    <span class="comment"># read_file(path)</span></span><br><span class="line">    train()</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/31/python3/word2vec/" data-id="cjtinfppy001mxw77cjeuozfq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/word2vec/">word2vec</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Algorithms/算法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/21/Algorithms/算法/" class="article-date">
  <time datetime="2018-10-21T12:54:10.000Z" itemprop="datePublished">2018-10-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/21/Algorithms/算法/">算法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/21/Algorithms/算法/" data-id="cjtinfpop000gxw77h5zixoj0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python3/BeautifulSoup简单使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/19/python3/BeautifulSoup简单使用/" class="article-date">
  <time datetime="2018-10-19T11:55:27.000Z" itemprop="datePublished">2018-10-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python3/">python3</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/19/python3/BeautifulSoup简单使用/">BeautifulSoup简单使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>beautifulsoup的简单使用</p>
<h1 id="1-一些简单的方法介绍"><a href="#1-一些简单的方法介绍" class="headerlink" title="1 一些简单的方法介绍"></a>1 一些简单的方法介绍</h1><h2 id="1-1-get-text"><a href="#1-1-get-text" class="headerlink" title="1.1 get_text()"></a>1.1 get_text()</h2><p>获取标签中的文本，包含子标签中的文本<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">"""</span></span><br><span class="line"><span class="string">&lt;a href='/n/微公益'&gt;@微公益&lt;/a&gt; &lt;a href='/n/星光公益联盟'&gt;@星光公益联盟&lt;/a&gt;</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(url, <span class="string">'lxml'</span>)</span><br><span class="line">text = soup.get_text()</span><br><span class="line">text</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="comment"># @微公益 @星光公益联盟\n</span></span><br></pre></td></tr></table></figure></p>
<h2 id="1-2-find-find-all-class以及获取某个属性的值"><a href="#1-2-find-find-all-class以及获取某个属性的值" class="headerlink" title="1.2 find()  find_all()  class以及获取某个属性的值"></a>1.2 find()  find_all()  class以及获取某个属性的值</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">st = <span class="string">'''</span></span><br><span class="line"><span class="string">    &lt;span class="url-icon"&gt;&lt;img alt="[笑cry]" style="width:1em; height:1em;"/&gt;&lt;/span&gt;bbbb</span></span><br><span class="line"><span class="string">    &lt;span class="url-icon"&gt;&lt;img alt="[笑哭]" style="width:1em; height:1em;"/&gt;&lt;/span&gt;ahahaha</span></span><br><span class="line"><span class="string">    &lt;span class="url-icon"&gt;&lt;img alt="[哈哈]" style="width:1em; height:1em;"/&gt;&lt;/span&gt;，emmm ​​​​</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">soup = BeautifulSoup(st, <span class="string">'lxml'</span>)</span><br><span class="line">span_lists = soup.find_all(name=<span class="string">'span'</span>, attrs=&#123;<span class="string">'class'</span>:<span class="string">'url-icon'</span>&#125;)</span><br><span class="line">span_lists[<span class="number">0</span>]</span><br><span class="line">print(type(span_lists[<span class="number">0</span>]))    <span class="comment"># bs4.element.Tag</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> span <span class="keyword">in</span> span_lists:</span><br><span class="line"><span class="comment"># 每一个span都是一个bs4.element.Tag，可以直接调用对应的方法。</span></span><br><span class="line">    img = span.find(name=<span class="string">'img'</span>)</span><br><span class="line">    print(img[<span class="string">'alt'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output:</span><br><span class="line">&lt;class &apos;bs4.element.Tag&apos;&gt;</span><br><span class="line">[笑cry]</span><br><span class="line">[笑哭]</span><br><span class="line">[哈哈]</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/19/python3/BeautifulSoup简单使用/" data-id="cjtinfppk001cxw77ztkrpasu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/beautifulsoup/">beautifulsoup</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python3/">python3</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-python3/python文件读写" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/16/python3/python文件读写/" class="article-date">
  <time datetime="2018-10-16T11:22:14.000Z" itemprop="datePublished">2018-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python3/">python3</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/16/python3/python文件读写/">python文件读写</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>Python文件读写，参考<a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c05/p01_read_write_text_data.html" target="_blank" rel="noopener">here</a></p>
<h1 id="1-整体介绍"><a href="#1-整体介绍" class="headerlink" title="1 整体介绍"></a>1 整体介绍</h1><ul>
<li>w, r, wt, rt 都是 python 里面文件操作的模式。</li>
<li>w 是写模式，r 是读模式。</li>
<li>t 是 windows 平台特有的所谓 text mode(文本模式）,区别在于会自动识别 windows 平台的换行符。<br>类 Unix 平台的换行符是 \n，而 windows 平台用的是 \r\n 两个 ASCII 字符来表示换行，python 内部采用的是 \n 来表示换行符。</li>
<li>rt 模式下，python 在读取文本时会自动把 \r\n 转换成 \n。</li>
<li>wt 模式下，Python 写文件时会用 \r\n 来表示换行。<br>如果是在已存在文件中添加内容，使用模式为 at 的 open() 函数。【上面的这里就不理解了】</li>
<li>t指文本模式。 r和rt或w和wt之间没有差异，因为文本模式是默认值。【在使用的时候两者均可，推荐使用rt】</li>
</ul>
<h2 id="1-1-编码问题"><a href="#1-1-编码问题" class="headerlink" title="1.1 编码问题"></a>1.1 编码问题</h2><p>文件的读写操作默认使用系统编码，可以通过调用 sys.getdefaultencoding() 来得到。 在大多数机器上面都是utf-8编码。如果你已经知道你要读写的文本是其他编码方式， 那么可以通过传递一个可选的 encoding 参数给open()函数。如下所示：<br>当读取一个未知编码的文本时使用latin-1编码永远不会产生解码错误。 使用latin-1编码读取一个文件的时候也许不能产生完全正确的文本解码数据， 但是它也能从中提取出足够多的有用数据。同时，如果你之后将数据回写回去，原先的数据还是会保留的。【如下所示，虽然会输出乱码，但是不会报错】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(sys.getdefaultencoding())</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'app.txt'</span>, <span class="string">'rt'</span>, encoding=<span class="string">'latin-1'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    print(f.read())</span><br></pre></td></tr></table></figure>
<p>输出会乱码，但是不会报错。</p>
<h2 id="1-2-不使用with"><a href="#1-2-不使用with" class="headerlink" title="1.2 不使用with"></a>1.2 不使用with</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">'somefile.txt'</span>, <span class="string">'rt'</span>)</span><br><span class="line">data = f.read()</span><br><span class="line">f.close()   <span class="comment"># 需要手动关闭文件</span></span><br></pre></td></tr></table></figure>
<h1 id="2-方法介绍"><a href="#2-方法介绍" class="headerlink" title="2 方法介绍"></a>2 方法介绍</h1><h2 id="2-1-read"><a href="#2-1-read" class="headerlink" title="2.1 read()"></a>2.1 read()</h2><p>返回一个文本的字符串，对于文本中的换行符号会进行输出。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'app.txt'</span>, <span class="string">'rt'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br><span class="line">    </span><br><span class="line">repr(data)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&apos;你好\\n中国&apos;&quot;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/16/python3/python文件读写/" data-id="cjtinfppo001hxw770gcucpez" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IO/">IO</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/file/">file</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-python3/python-mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/16/python3/python-mysql/" class="article-date">
  <time datetime="2018-10-16T11:22:14.000Z" itemprop="datePublished">2018-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python3/">python3</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/16/python3/python-mysql/">python mysql</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>记录python和mysql结合使用过程中的一些问题</p>
<h1 id="1-一个比较标准的mysql数据库类声明"><a href="#1-一个比较标准的mysql数据库类声明" class="headerlink" title="1 一个比较标准的mysql数据库类声明"></a>1 一个比较标准的mysql数据库类声明</h1><p>注意建立连接时候的charset编码和cursorclass等属性，后面一个属性是让返回值以字典的形式返回。</p>
<p>注意点：</p>
<ul>
<li>查询结果返回的生成器（适用于数据比较大的情况</li>
<li>插入数据和更新数据需要注意commit()方法使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> configs <span class="keyword">as</span> cf</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DB</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, table)</span>:</span></span><br><span class="line">        <span class="string">"""initialization and connect mysql"""</span></span><br><span class="line">        self.connect = pymysql.connect(host=cf[<span class="string">'DB'</span>][<span class="string">'host'</span>], port=cf[<span class="string">'DB'</span>][<span class="string">'port'</span>], user=cf[<span class="string">'DB'</span>][<span class="string">'user'</span>],password=cf[<span class="string">'DB'</span>][<span class="string">'psw'</span>], db=cf[<span class="string">'DB'</span>][<span class="string">'db'</span>], charset=<span class="string">'utf8mb4'</span>,cursorclass=pymysql.cursors.DictCursor)</span><br><span class="line">        self.cursor = self.connect.cursor()</span><br><span class="line">        self.table = table</span><br><span class="line">        print(<span class="string">'mysql connects successfully'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span><span class="params">(self, exc_type, exc_val, exc_db)</span>:</span></span><br><span class="line">        self.cursor.close()</span><br><span class="line">        self.connect.close()</span><br><span class="line">        print(<span class="string">'mysql is closed'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_data_by_filed</span><span class="params">(self, field)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        get value by fields, filed is like url  or url,release_date.</span></span><br><span class="line"><span class="string">        :param field: such as url,release_date if exist more than one filed, otherwise url or release_date</span></span><br><span class="line"><span class="string">        :return: generator</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        sql = <span class="string">"SELECT %(field)s FROM %(table)s "</span> % &#123;<span class="string">"field"</span>: field, <span class="string">"table"</span>: self.table&#125;</span><br><span class="line">        <span class="comment"># print(sql)</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.cursor.execute(sql)</span><br><span class="line">            res = self.cursor.fetchall()</span><br><span class="line">            <span class="keyword">for</span> r <span class="keyword">in</span> res:</span><br><span class="line">                <span class="keyword">yield</span> r</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">"get_data_by_filed ERROR: "</span>, e)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert_data</span><span class="params">(self, field, value)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        insert data</span></span><br><span class="line"><span class="string">        :param field: such as "(url, id)"</span></span><br><span class="line"><span class="string">        :param value: ('https://weibo.com/121212112/dafadfa', '1faf12e1vad)</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        sql = <span class="string">"INSERT INTO %(table)s %(field)s VALUES %(value)s"</span> % &#123;<span class="string">'table'</span>: self.table, <span class="string">'field'</span>: field, <span class="string">"value"</span>: value&#125;</span><br><span class="line">        print(sql)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.cursor.execute(sql)</span><br><span class="line">            self.connect.commit()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            self.connect.rollback()</span><br><span class="line">            print(<span class="string">"insert_data ERROR:"</span>, e)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_values_by_ID</span><span class="params">(self, field, value, _id)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        update value by id</span></span><br><span class="line"><span class="string">        :param field: 'content'</span></span><br><span class="line"><span class="string">        :param value: '【扩散！#四川九寨沟地震#最全应急电话】九寨沟'</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        sql = <span class="string">"UPDATE %(table)s SET %(field)s = '%(value)s' WHERE ID = '%(id)s'"</span> % &#123;<span class="string">'table'</span>: self.table, <span class="string">'field'</span>: field, <span class="string">"value"</span>: value, <span class="string">"id"</span>:_id&#125;</span><br><span class="line">        print(sql)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.cursor.execute(sql)</span><br><span class="line">            self.connect.commit()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            self.connect.rollback()</span><br><span class="line">            print(<span class="string">"update_value_by_ID ERROR:"</span>, value ,e)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/16/python3/python-mysql/" data-id="cjtinfppm001fxw77t5mzpeai" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MySQL/mysql-问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/16/MySQL/mysql-问题/" class="article-date">
  <time datetime="2018-10-16T10:43:32.000Z" itemprop="datePublished">2018-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/mysql/">mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/16/MySQL/mysql-问题/">mysql 问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>记录mysql使用过程中遇到的一些问题和解决方法</p>
<h1 id="1-发生系统错误1067"><a href="#1-发生系统错误1067" class="headerlink" title="1 发生系统错误1067"></a>1 发生系统错误1067</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br><span class="line">MySQL 服务正在启动 ...</span><br><span class="line">MySQL 服务无法启动。</span><br><span class="line">系统出错。</span><br><span class="line">发生系统错误 1067。</span><br></pre></td></tr></table></figure>
<p>在启动服务器的时候，出现上面的错误的时候，可以看一下是否是配置文件中有问题。我这里是刚安装完成mysql，然后修改配置文件之后出现了问题。之后发现是配置文件中文件路劲的问题。<br>主要是因为反斜杠和正斜杠使用时需要注意的区别。</p>
<h1 id="2-编码问题"><a href="#2-编码问题" class="headerlink" title="2 编码问题"></a>2 编码问题</h1><p>问题描述：[Err] 1366 - Incorrect string value: ‘\xF0\x9F\x99\x8F \xF0…’ for column ‘content’ at row 1<br>从 MySQL 5.5.3 开始，MySQL 支持一种 utf8mb4 的字符集，这个字符集能够支持 4 字节的 UTF8 编码的字符。 utf8mb4 字符集能够完美地向下兼容 utf8 字符串。在数据存储方面，当一个普通中文字符存入数据库时仍然占用 3 个字节，在存入一个 Unified Emoji 表情的时候，它会自动占用 4 个字节。所以在输入输出时都不会存在乱码的问题了。由于 utf8mb4 是 utf8 的超集，从 utf8 升级到 utf8mb4 不会有任何问题，直接升级即可；</p>
<p>因为自己使用的版本低于5.5.3，之后找了一个5.6.24版本的，并在my.ini文件中添加了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">character-set-client-handshake = FALSE </span><br><span class="line">character-set-server = utf8mb4 </span><br><span class="line">collation-server = utf8mb4_unicode_ci </span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line">[mysql]</span><br><span class="line">default-character-set = utf8mb</span><br></pre></td></tr></table></figure></p>
<p>之后查看具体的编码列表，如下：主要是关于编码修改成utf8mb4，之后就可以存储这种表情符号了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character%&apos;;</span><br><span class="line">+--------------------------+-----------------------------+</span><br><span class="line">| Variable_name            | Value                       |</span><br><span class="line">+--------------------------+-----------------------------+</span><br><span class="line">| character_set_client     | utf8mb4                     |</span><br><span class="line">| character_set_connection | utf8mb4                     |</span><br><span class="line">| character_set_database   | utf8mb4                     |</span><br><span class="line">| character_set_filesystem | binary                      |</span><br><span class="line">| character_set_results    | utf8mb4                     |</span><br><span class="line">| character_set_server     | utf8mb4                     |</span><br><span class="line">| character_set_system     | utf8                        |</span><br><span class="line">| character_sets_dir       | C:\software\mysql5.6\mysql-5.6.24-win32\share\charsets\</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/16/MySQL/mysql-问题/" data-id="cjtinfpor000hxw77n1wzhg0w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MySQL/mysql-基础知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/16/MySQL/mysql-基础知识/" class="article-date">
  <time datetime="2018-10-16T10:43:32.000Z" itemprop="datePublished">2018-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/mysql/">mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/16/MySQL/mysql-基础知识/">mysql 基础知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>主要是自己在使用mysql中一些使用总结，便于之后学习复查和使用</p>
<h1 id="1-插入、删除、查询、更新操作"><a href="#1-插入、删除、查询、更新操作" class="headerlink" title="1 插入、删除、查询、更新操作"></a>1 插入、删除、查询、更新操作</h1><p>主要是一些简单的增删改操作</p>
<h2 id="1-1-插入数据"><a href="#1-1-插入数据" class="headerlink" title="1.1 插入数据"></a>1.1 插入数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令格式：insert into &lt;表名&gt; [(&lt;字段名1&gt;[,..&lt;字段名n &gt; ])] values ( 值1 )[, ( 值n )];</span><br></pre></td></tr></table></figure>
<p>举个例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into my_table (id, name, age) values (&apos;1001&apos;, &apos;Tom&apos;, 14)</span><br></pre></td></tr></table></figure></p>
<h3 id="1-1-1-插入空值"><a href="#1-1-1-插入空值" class="headerlink" title="1.1.1 插入空值"></a>1.1.1 插入空值</h3><p>insert into my_table (name) values (NULL)</p>
<h3 id="1-1-2-复制创建一个新表"><a href="#1-1-2-复制创建一个新表" class="headerlink" title="1.1.2 复制创建一个新表"></a>1.1.2 复制创建一个新表</h3><p>复制旧表到新表，结构、数据都和旧表一样，同时可以截取部分旧表中的数据。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE new_table SELECT * FROM old_table LIMIT 0,6</span><br></pre></td></tr></table></figure></p>
<h2 id="1-2-删除"><a href="#1-2-删除" class="headerlink" title="1.2 删除"></a>1.2 删除</h2><p>删除表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table my_table</span><br></pre></td></tr></table></figure></p>
<p>删除表中全部数据，truncate和delete的区别这里不展开，具体使用的时候可以了解。truncate比delete快，但是删除后不可以回复。delete是将记录一条一条的删除。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">truncate (table) my_table</span><br><span class="line">or</span><br><span class="line">delete from my_table</span><br></pre></td></tr></table></figure></p>
<p>删除数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from my_table where ID = &apos;1001&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="1-3-查询数据"><a href="#1-3-查询数据" class="headerlink" title="1.3 查询数据"></a>1.3 查询数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name</span><br><span class="line">FROM table_name</span><br><span class="line">[WHERE Clause]</span><br><span class="line">[LIMIT N][ OFFSET M]</span><br></pre></td></tr></table></figure>
<h3 id="1-3-1-查询指定数量的数据，用于分页"><a href="#1-3-1-查询指定数量的数据，用于分页" class="headerlink" title="1.3.1 查询指定数量的数据，用于分页"></a>1.3.1 查询指定数量的数据，用于分页</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 0表示起始位置，10表示查询的数量。如果翻页，比如翻到第二页，修改0为10就可以了，此时查询的就是从第10条数据到第19条共10条数据。</span><br><span class="line">select * from my_table LIMIT 0,10</span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-模糊查询"><a href="#1-3-2-模糊查询" class="headerlink" title="1.3.2 模糊查询"></a>1.3.2 模糊查询</h3><p>查询名字中间包含To的相关信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select age,name from my_table where name like &apos;%To%&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="1-4-更新"><a href="#1-4-更新" class="headerlink" title="1.4 更新"></a>1.4 更新</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UPDATE [LOW_PRIORITY] [IGNORE] table_name </span><br><span class="line">SET </span><br><span class="line">    column_name1 = expr1,</span><br><span class="line">    column_name2 = expr2,</span><br><span class="line">    ...</span><br><span class="line">WHERE</span><br><span class="line">    condition;</span><br></pre></td></tr></table></figure>
<h1 id="2-关于时间的相关操作"><a href="#2-关于时间的相关操作" class="headerlink" title="2 关于时间的相关操作"></a>2 关于时间的相关操作</h1><p>比如查询月份为1的记录数量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from my_table where MONTH(publish_time) == 1</span><br></pre></td></tr></table></figure>
<h1 id="3-创建表的sql"><a href="#3-创建表的sql" class="headerlink" title="3 创建表的sql"></a>3 创建表的sql</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `weipost`(</span><br><span class="line">	`Wid` varchar(16) NOT NULL auto_increment COMMENT &apos;主键，微博的id&apos;,</span><br><span class="line">	`Wlikes` int NOT NULL COMMENT &apos;点赞数&apos;,</span><br><span class="line">	`Wtitle` varchar(50) CHARACTER SET utf8mb4 DEFAULT NULL COMMENT &apos;微博标题&apos;,</span><br><span class="line">	`Uid` varchar(10) NOT NULL COMMENT &apos;用户的ID，外键&apos;,</span><br><span class="line">	PRIMARY KEY (`Wid`),</span><br><span class="line">	FOREIGN KEY (`Uid`) REFERENCES userInfo(`Uid`)    # 这个位置不能添加逗号，否者会出错</span><br><span class="line">)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 ROW_FORMAT=DYNAMIC;</span><br></pre></td></tr></table></figure>
<p>具体的一些编码等问题暂时不是很清楚怎么设置。</p>
<h1 id="4-删除表中重复的数据"><a href="#4-删除表中重复的数据" class="headerlink" title="4 删除表中重复的数据"></a>4 删除表中重复的数据</h1><p><a href="https://blog.csdn.net/qq_32345239/article/details/52288013" target="_blank" rel="noopener">https://blog.csdn.net/qq_32345239/article/details/52288013</a><br>删除数据库中重复的数据，只保存其中的一条。<br>首先，查询重复的记录。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> my_table <span class="keyword">group</span> <span class="keyword">by</span> column1 <span class="keyword">having</span> <span class="keyword">count</span>(column1) &gt; <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<h1 id="一些关键用法"><a href="#一些关键用法" class="headerlink" title="一些关键用法"></a>一些关键用法</h1><h2 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h2><p>group by可以根据给定数据列的每个成员对查询结果进行分组统计，最终得到一个分组汇总表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 查询总共分成了多少组，c是一个别名</span><br><span class="line">select count(*) from (select * from my_table group by place) c;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/16/MySQL/mysql-基础知识/" data-id="cjtinfpp1000lxw77f1754erw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C语言/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MachineLearning/">MachineLearning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kaggle/">kaggle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python3/">python3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/weibo/">weibo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/word2vec/">word2vec</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据挖掘/">数据挖掘</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BP算法/">BP算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bayes/">Bayes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C语言/">C语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DL/">DL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EM/">EM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/">IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KNN/">KNN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MachineLearning/">MachineLearning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/">NLP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SPSS/">SPSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/beautifulsoup/">beautifulsoup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/collections/">collections</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/divide-and-conquer/">divide-and-conquer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/file/">file</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jieba/">jieba</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k-means/">k-means</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kaggle/">kaggle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matplotlib/">matplotlib</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/">numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/">pandas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python-爬虫/">python 爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python3/">python3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/realize/">realize</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests/">requests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sklearn/">sklearn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/snippets/">snippets</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/weibo/">weibo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiebo/">wiebo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/word2vec/">word2vec</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/全概率公式/">全概率公式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/决策树/">决策树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分类/">分类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小demo/">小demo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微博/">微博</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/支持向量机/">支持向量机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据分析/">数据分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/时间复杂度/">时间复杂度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最大似然估计/">最大似然估计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贝叶斯/">贝叶斯</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithm/" style="font-size: 17.5px;">Algorithm</a> <a href="/tags/BP算法/" style="font-size: 10px;">BP算法</a> <a href="/tags/Bayes/" style="font-size: 10px;">Bayes</a> <a href="/tags/C语言/" style="font-size: 10px;">C语言</a> <a href="/tags/DL/" style="font-size: 10px;">DL</a> <a href="/tags/EM/" style="font-size: 10px;">EM</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/KNN/" style="font-size: 10px;">KNN</a> <a href="/tags/MachineLearning/" style="font-size: 12.5px;">MachineLearning</a> <a href="/tags/NLP/" style="font-size: 10px;">NLP</a> <a href="/tags/SPSS/" style="font-size: 10px;">SPSS</a> <a href="/tags/beautifulsoup/" style="font-size: 10px;">beautifulsoup</a> <a href="/tags/collections/" style="font-size: 10px;">collections</a> <a href="/tags/divide-and-conquer/" style="font-size: 10px;">divide-and-conquer</a> <a href="/tags/file/" style="font-size: 10px;">file</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/jieba/" style="font-size: 10px;">jieba</a> <a href="/tags/k-means/" style="font-size: 10px;">k-means</a> <a href="/tags/kaggle/" style="font-size: 10px;">kaggle</a> <a href="/tags/matplotlib/" style="font-size: 12.5px;">matplotlib</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/numpy/" style="font-size: 10px;">numpy</a> <a href="/tags/pandas/" style="font-size: 10px;">pandas</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/python-爬虫/" style="font-size: 10px;">python 爬虫</a> <a href="/tags/python3/" style="font-size: 10px;">python3</a> <a href="/tags/realize/" style="font-size: 10px;">realize</a> <a href="/tags/requests/" style="font-size: 10px;">requests</a> <a href="/tags/sklearn/" style="font-size: 10px;">sklearn</a> <a href="/tags/snippets/" style="font-size: 10px;">snippets</a> <a href="/tags/weibo/" style="font-size: 10px;">weibo</a> <a href="/tags/wiebo/" style="font-size: 10px;">wiebo</a> <a href="/tags/word2vec/" style="font-size: 10px;">word2vec</a> <a href="/tags/全概率公式/" style="font-size: 10px;">全概率公式</a> <a href="/tags/决策树/" style="font-size: 10px;">决策树</a> <a href="/tags/分类/" style="font-size: 12.5px;">分类</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/小demo/" style="font-size: 10px;">小demo</a> <a href="/tags/工具/" style="font-size: 10px;">工具</a> <a href="/tags/微博/" style="font-size: 10px;">微博</a> <a href="/tags/支持向量机/" style="font-size: 10px;">支持向量机</a> <a href="/tags/数据分析/" style="font-size: 10px;">数据分析</a> <a href="/tags/时间复杂度/" style="font-size: 10px;">时间复杂度</a> <a href="/tags/最大似然估计/" style="font-size: 10px;">最大似然估计</a> <a href="/tags/算法/" style="font-size: 12.5px;">算法</a> <a href="/tags/贝叶斯/" style="font-size: 10px;">贝叶斯</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/21/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2018/11/02/Algorithms/DivideAndConquer/">Divide and Conquer</a>
          </li>
        
          <li>
            <a href="/2018/11/02/Algorithms/Dynamic-Planning/">Dynamic Planning</a>
          </li>
        
          <li>
            <a href="/2018/10/31/python3/word2vec/">word2vec</a>
          </li>
        
          <li>
            <a href="/2018/10/21/Algorithms/算法/">算法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>